<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GWLMC</title>
    <link rel="icon" href="./icon.png" sizes="16x16" type="image/x-icon">
    <style>
        /* 定义自定义字体 */
        @font-face {
            font-family: 'CustomFont';
            src: url('./font.ttf') format('truetype');
        }

        /* 应用自定义字体到整个网页 */
        body, html {
            height: 100%;
            margin: 0;
            font-family: 'CustomFont', sans-serif; /* 使用自定义字体 */
            overflow: hidden; /* 隐藏滚动条 */
        }
        .bg-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* 确保视频覆盖整个屏幕 */
            z-index: -100;
        }
        .bg-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('./Miside.png') no-repeat center center;
            background-size: cover; /* 确保图片覆盖整个屏幕 */
            z-index: -101; /* 确保图片在视频之下 */
            opacity: 0; /* 初始透明度为0 */
            transition: opacity 0.5s ease-in-out; /* 渐变效果 */
        }
        .content {
            padding-bottom: 80px; /* 为底部留出空间 */
            text-align: left; /* 文字左对齐 */
            margin-left: 20px; /* 左侧留出一定空间 */
            opacity: 0; /* 初始透明度为0 */
            transition: opacity 2s ease-in; /* 渐变效果，持续2秒 */
        }
        .footer {
            position: absolute;
            bottom: 20px; /* 距离底部的距离 */
            left: 20px; /* 距离左侧的距离 */
            color: #fff; /* 文字颜色 */
            opacity: 0; /* 初始透明度为0 */
            transition: opacity 2s ease-in; /* 渐变效果，持续2秒 */
        }
        .footer a {
            color: #00CDCD; /* 链接颜色 */
            text-decoration: none; /* 去掉下划线 */
            margin: 0 10px; /* 链接之间的间距 */
        }
        .play-button {
            position: fixed;
            bottom: 20px; /* 距离底部的距离 */
            right: 20px; /* 距离右侧的距离 */
            font-size: 2em; /* 字体大小 */
            color: #fff; /* 文字颜色 */
            cursor: pointer; /* 鼠标悬停时显示手型 */
        }
        /* 烟花效果 */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none; /* 让canvas不干扰点击事件 */
        }

        /* 媒体查询：当屏幕宽度小于768px时，应用手机版排版 */
        @media (max-width: 768px) {
            .content {
                text-align: center; /* 文字居中 */
                margin-left: 0; /* 取消左侧留出的空间 */
            }
            .footer {
                left: 0; /* 底部链接左对齐 */
                width: 100%; /* 底部链接宽度为100% */
                text-align: left; /* 底部链接左对齐 */
            }
            .footer a {
                margin: 0; /* 取消链接之间的间距 */
            }
            .play-button {
                right: 20px; /* 播放按钮右对齐 */
            }
        }
    </style>
</head>
<body>
    <video class="bg-video" id="bg-video" autoplay muted>
        <source src="./1.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="bg-image" id="bg-image"></div>
    <div class="content" id="content">
        <h1 style="color: #EE6363;">GWLMC</h1>
        <h1 style="color: #EE6363;">MC版本：1.21.4</h1>
        <h6 style="color: #FF7F00;">QQ群：854714085</h6>
        <h6 style="color: #FF7F00;">邮箱：wodeshijieguowanli@163.com</h6>
        <h3 style="color: #EE82EE;">
            <p>还没有启动器？<a href="./hmcl.exe" style="color: #EE82EE;">点击此处</a> 下载启动器</p>
        </h3>
        <h3 style="color: #00BFFF;">
            MC(2025人)服务器IP地址：2.tcp.cpolar.cn:12619<br>开放时间：不定
        </h3>
        <h3 style="color: #8B2323;">
            ----------公告----------
        </h3>
        <h3 style="color: #8B2323;">
            1.服务器性能升级；2.版本更新为<a href="https://zh.minecraft.wiki/w/Java%E7%89%881.21.4" style="color: #53868B;">1.21.4</a>,
            <a href="https://zh.minecraft.wiki/w/%E6%9E%81%E9%99%90%E6%A8%A1%E5%BC%8F" style="color: #FF0000;">极限模式!</a>
        </h3>
        <h3 style="color: #8B2323;">
            3.服务器开启了<a href="https://zh.minecraft.wiki/w/Tutorial:PvP?variant=zh-cn" style="color: #FF6A6A;">PVP</a>;
            4.服务器模组改为<a href="https://zh.minecraft.wiki/w/%E5%8A%A0%E8%BD%BD%E5%99%A8Mod?variant=zh-cn#%E5%8A%A0%E8%BD%BD%E5%99%A8" style="color: #FFEC8B;">Fabric</a>版!
        </h3>
    </div>
    <div class="footer" id="footer">
        <a href="https://gwlmcyp.cpolar.top">启动GWL云盘</a>
    </div>
    <div class="play-button" id="play-button">▶</div>
    <canvas id="fireworksCanvas"></canvas>
    <audio id="audio1" src="1.mp3" preload="auto"></audio>
    <audio id="audio2" src="2.mp3" preload="auto"></audio>
    <audio id="audio3" src="3.mp3" preload="auto"></audio>
    <script>
        const video = document.getElementById('bg-video');
        const bgImage = document.getElementById('bg-image');
        const playButton = document.getElementById('play-button');
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        let isFirstVideoPlaying = true;

        // 设置canvas大小
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        video.addEventListener('ended', function() {
            if (isFirstVideoPlaying) {
                // 如果当前播放的是第一个视频，切换到第二个视频并设置循环播放
                video.src = './2.mp4';
                video.loop = true; // 设置循环播放
                isFirstVideoPlaying = false;
            }
            video.load();
            video.play();
        });

        // 页面加载完成后，设置内容和导航栏的透明度为1
        window.onload = function() {
            document.getElementById('content').style.opacity = 1;
            document.getElementById('footer').style.opacity = 1;
            bgImage.style.opacity = 1; // 显示背景图片
        };

        // 音频循环播放逻辑
        const audios = [document.getElementById('audio1'), document.getElementById('audio2'), document.getElementById('audio3')];
        let currentAudioIndex = 0;

        function playNextAudio() {
            audios[currentAudioIndex].pause();
            currentAudioIndex = (currentAudioIndex + 1) % audios.length;
            audios[currentAudioIndex].play();
        }

        audios.forEach((audio, index) => {
            audio.addEventListener('ended', () => {
                playNextAudio();
            });
        });

        // 播放按钮逻辑
        playButton.addEventListener('click', () => {
            if (audios[currentAudioIndex].paused) {
                audios[currentAudioIndex].play();
            } else {
                audios[currentAudioIndex].pause();
            }
        });

        // Start playing the first audio
        audios[currentAudioIndex].play();

        // 烟花效果
        function createFirework(x, y) {
            const colors = ['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF'];
            const particles = [];

            for (let i = 0; i < 50; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 3 + 1; // 速度减小
                const color = colors[Math.floor(Math.random() * colors.length)];
                particles.push({ x, y, angle, speed, color, life: 1 }); // 添加生命值
            }

            return particles;
        }

        function drawParticles(particles) {
            particles.forEach(particle => {
                ctx.beginPath();
                ctx.arc(particle.x, particle.y, 2, 0, Math.PI * 2);
                ctx.fillStyle = particle.color;
                ctx.globalAlpha = particle.life; // 设置透明度
                ctx.fill();
                ctx.globalAlpha = 1; // 重置透明度
            });
        }

        function updateParticles(particles) {
            particles.forEach(particle => {
                particle.x += particle.speed * Math.cos(particle.angle);
                particle.y += particle.speed * Math.sin(particle.angle);
                particle.life -= 0.02; // 逐渐减少生命值
            });
        }

        let fireworks = [];

        document.addEventListener('click', (event) => {
            const x = event.clientX;
            const y = event.clientY;
            fireworks.push(createFirework(x, y));
        });

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            fireworks.forEach((firework, index) => {
                drawParticles(firework);
                updateParticles(firework);
                if (firework.some(particle => particle.life <= 0 || particle.x < 0 || particle.x > canvas.width || particle.y < 0 || particle.y > canvas.height)) {
                    fireworks.splice(index, 1);
                }
            });
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
